# 스마트팩토리 MES 구축(Smart factory MES program)

![image](https://user-images.githubusercontent.com/57824945/236276192-f89f9061-f41e-4dbf-b845-72a2d8b9a64c.png)

<br/>

## 프로젝트 소개

이 프로젝트는 스마트팩토리 환경에서 MES를 구축하는 것을 목표로 한 사례입니다.
공장 내 설비와 기계에 설치된 센서를 통해 데이터를 실시간으로 수집하고 분석하여, 공정 상태를 종합적으로 관리할 수 있는 시스템을 설계했습니다.

특히, 이 프로젝트의 핵심은 자동차 부품 생산의 모든 공정을 작업자 없이 자동화하는 데 있습니다. 제어자 한 명만으로도 공장의 다수 라인을 관리할 수 있도록 설계하여, 생산성 향상과 효율적인 자원 배분을 이루는 것이 목표였습니다.

<br/>

## 프로젝트 목표

**1. 공정 자동화**
   
  - 작업자 의존도를 줄이고, 모든 공정을 자동화하여 운영 효율성 극대화.
  
**2. 실시간 데이터 관리**
  - 생산 데이터를 실시간으로 수집하고 데이터베이스에 저장하여 정확한 상태 모니터링 가능.
   
**3. 다수의 설비 제어 통합**
  - 다양한 설비와 센서를 통합하여 중앙에서 관리할 수 있도록 설계.
    
**4. 품질 관리 강화**
  - 데이터 분석을 통해 불량률을 줄이고, 품질 검사 과정을 최적화.


<br/>


## 프로젝트 구조

### 설계 개요

스마트팩토리 MES 시스템은 두 개의 주요 제품이 연동되어 생산되는 구조를 가지고 있습니다. 각 제품은 바코드로 구분되며, 다양한 공정에서 데이터를 수집하고 이를 데이터베이스에 저장하는 방식으로 동작합니다.

**1. 제품 식별과 데이터 수집**
   
  - 각 제품은 Cognex사의 바코드 리더기로 식별됩니다.
  - 생산 과정에서 발생하는 모든 데이터는 MySQL 데이터베이스에 실시간으로 기록됩니다.
    
**2. 공정과 데이터 흐름**
   
  - 각 공정(밸런스 검사, 성능 검사, 배출 검사, 압입 검사, 저항 검사 등)의 데이터를 미리 정의된 컬럼에 저장합니다.
  - 설비와 장비 간에는 TCP/IP 통신과 MELSEC 통신을 활용하여 데이터를 주고받습니다.
    
**3. 주요 설비 및 통신**
   
  - Mitsubishi PLC: 공정 데이터를 센서로부터 수집하고 VISION 프로그램으로 전달.
  - VISION 프로그램: 공정 데이터를 처리 및 저장.
  - 밸런스 검사 장비: 부품의 균형을 검사하여 품질을 확보.


<br/>

## 프로세스 흐름

**1. 데이터 입력**
   
  - 바코드 출력 기계를 통해 제품 정보를 생성.
  - 생산 라인에서 바코드 리더기가 제품을 식별하고 공정을 시작.
    
**2. 데이터 전송 및 저장**

  - PLC가 공정 데이터를 VISION 프로그램으로 전달.
  - VISION 프로그램이 데이터를 데이터베이스의 적절한 컬럼에 저장.
    
**3. 결과 출력 및 모니터링**

  - 생산 현황은 모니터링 시스템과 데이터 PC에 실시간으로 출력.
  - 작업자는 이를 통해 전체 공정 상태를 한눈에 파악 가능.

<br/>

## 사용 기술

**1. C#**
  - 시스템 전반의 프로그래밍 언어로 사용.
  - 데이터 처리 및 통신 로직 구현.
    
**2. Mitsubishi PLC 및 MELSEC 통신**
  - 공정 데이터를 수집 및 전송하는 핵심 장치.
  - MELSEC 통신을 활용해 VISION 프로그램과 데이터 교환.
    
**3. 제브라사의 라벨 프린트 및 TCP/IP 통신**
  - 제품 정보를 담은 바코드를 출력.
  - TCP/IP 통신을 통해 데이터 전달 및 관리.
**4. MySQL 데이터베이스**
  - 모든 공정 데이터를 저장하고 관리.
  - 대규모 데이터의 빠른 조회와 저장을 위해 설계.
**5. 생산 현황 모니터링**
  - 공정 데이터를 시각화하여 작업자가 실시간으로 모니터링 가능.

<br/>

## 프로젝트 성과

**1️⃣ 공정 데이터 실시간 관리와 시각화 구현**

이 프로젝트의 가장 큰 성과는 실시간 공정 데이터 관리 시스템을 구축한 것입니다.
각 공정 데이터를 실시간으로 수집하고, 이를 데이터베이스에 저장한 뒤 대시보드에서 시각화하였습니다.

**성과:**
  - 공정 데이터를 실시간으로 모니터링 가능.
  - 작업자나 관리자가 공장 전체의 생산 현황을 한눈에 파악할 수 있게 됨.
  - 이상 징후가 발생할 경우 즉각적인 문제 해결 지원.

**    
2️⃣ 생산 공정 자동화 성공**
이 프로젝트는 작업자의 개입을 최소화하고, 모든 생산 공정을 자동화하는 데 성공했습니다.
특히, Mitsubishi PLC와 VISION 프로그램 간의 MELSEC 통신을 통해 공정 데이터를 통합적으로 관리하며, 자동으로 저장되도록 구현했습니다.

**효과:**
  - 작업자 없이 생산 공정을 운영할 수 있어 효율성 향상.
  - 공정 데이터 기반으로 품질 관리와 불량률 감소 가능.
  - 생산 라인의 안정성과 일관성 확보.


<br/>

## 프로젝트 리뷰

**1️⃣ 데이터 구조 설계의 중요성**
데이터베이스를 설계하는 과정에서, 잘못된 테이블 구조는 데이터 관리와 성능에 큰 영향을 준다는 것을 다시 한 번 깨달았습니다.
예를 들어, 공정 데이터를 시간 순으로 저장하는 테이블 구조를 설계하면서 인덱싱과 테이블 정규화의 중요성을 배웠습니다.

실제로 적용한 개선사항:
공정별 테이블을 나누어 성능 최적화.
필요한 열만 선택하여 저장, 불필요한 데이터 과다 저장 방지.
데이터베이스 조회 속도를 높이기 위해 적절한 인덱스를 추가.

**2️⃣ 실시간 데이터 처리의 도전**
실시간 데이터를 처리하는 과정에서, 네트워크 지연이나 통신 오류를 해결해야 하는 상황이 자주 발생했습니다.
이를 해결하기 위해 TCP/IP 통신과 데이터 수집 프로세스를 최적화하는 방법을 학습하고 적용했습니다.

개선 방법:
데이터 전송 실패 시 재시도 로직 추가

**3️⃣ 사용자 경험(UX)의 중요성**
대시보드와 GUI를 설계하면서, 사용자가 직관적으로 시스템을 이해할 수 있도록 설계하는 것이 얼마나 중요한지 깨달았습니다.
복잡한 데이터를 단순하고 이해하기 쉽게 시각화하는 것이 사용자의 신뢰와 만족도를 높이는 데 핵심적이라는 점을 배웠습니다.



